# Reactの`props`の概念について

**日付**: 2025年9月20日

---

## `props`とは？

`props`（プロップス）は、**親コンポーネントから子コンポーネントへ、情報を渡すための仕組み**です。コンポーネントに渡す「引数（ひきすう）」や「設定情報」のようなもので、`properties`（プロパティ）を略した言葉です。

---

## たとえ話：ハンバーガーの注文

`props`の役割を、ハンバーガーの注文にたとえると分かりやすいです。

- **子コンポーネント（部品）**:
  - `Hamburger`という、ハンバーガーの設計図となるコンポーネントがあるとします。

- **親コンポーネント（使う側）**:
  - この`Hamburger`部品を使う側が、お客さんの注文のように`props`を渡します。
  - 例：「ピクルスは抜いて」「チーズは2枚で」「パティはビーフで」

- **`props`の受け渡し**:
  - 親： `<Hamburger pickles={false} cheeseSlices={2} patty="beef" />`
  - 子： `Hamburger`コンポーネントは、この注文（`props`）を受け取り、指示通りにハンバーガーを組み立てて表示します。

---

## 簡単なコード例

```jsx
// === 子コンポーネント ===
// "name" と "age" という2つのpropsを受け取る設計図
function ProfileCard(props) {
  return (
    <div style={{ border: '1px solid #ccc', margin: '10px', padding: '10px' }}>
      <h3>名前：{props.name}</h3>
      <p>年齢：{props.age}歳</p>
    </div>
  );
}


// === 親コンポーネント ===
// ProfileCard部品を、異なるprops（設定）で3回利用する
function UserListPage() {
  return (
    <div>
      <h1>ユーザー一覧</h1>
      <ProfileCard name="鈴木 一郎" age={30} />
      <ProfileCard name="田中 花子" age={25} />
      <ProfileCard name="山田 太郎" age={42} />
    </div>
  );
}
```
**ポイント**: `ProfileCard`という一つの部品を、`props`を変えるだけで再利用し、異なる情報を表示できています。

---

## `props`の重要なルール

### データは「親 → 子」への一方通行
親から子へデータを渡すことはできますが、子は`props`を使って親にデータを送り返すことはできません。

### `props`は「読み取り専用」
子コンポーネントは、親から受け取った`props`を**絶対に書き換えてはいけません**。親からもらった指示書を、子が勝手に書き換えてはいけない、というルールです。状態を変えたい場合は、`useState`など別の仕組みを使います。

---

## まとめ

`props`をマスターすると、コンポーネントをうまく部品化し、効率的に再利用できるようになります。React開発の基本であり、最も重要な概念の一つです。

---

## Next.jsのサーバーコンポーネントとクライアントコンポーネント

**日付**: 2025年9月20日

### レストランのコース料理にたとえてみよう

Next.jsのページ作りは、レストランのコース料理に似ています。

-   **サーバー（キッチンのシェフ）**
    -   料理の大部分（ステーキを焼く、ソースを作るなど）は、厨房にいるシェフ（＝**サーバー**）が担当します。シェフは重たい処理をすべて済ませ、完成品に近い料理をお客さんの元へ運びます。

-   **クライアント（お客さんのテーブル）**
    -   料理がテーブル（＝**クライアント**、つまりあなたのブラウザ）に運ばれてきました。ここでお客さんは、自分の好みで塩やコショウをかけたり、ナイフで切り分けたりします。この**最後の仕上げや、お客さん自身が行う操作**が、クライアントの役割です。

### サーバーコンポーネント vs クライアントコンポーネント

-   **サーバーコンポーネント (デフォルト)**
    -   シェフが厨房で作る**料理本体**です。
    -   **役割**: データベースアクセス、ページの骨格作成など、重たい処理を担当します。
    -   **長所**: 高速なページ表示、高いセキュリティ。
    -   **制約**: `useState`や`onClick`のような、ユーザー操作に応じる機能は使えません。

-   **クライアントコンポーネント (`"use client";`を付けたもの)**
    -   テーブルの上にある**塩やコショウ、ナイフとフォーク**です。
    -   **役割**: ユーザーのクリックや入力に反応し、画面をインタラクティブに動かします。
    -   **長所**: `useState`や`useEffect`など、Reactのインタラクティブな機能がすべて使えます。
    -   **作り方**: ファイルの先頭に `"use client";` と書くだけです。

### まとめ：どう使い分けるか？

-   **基本はすべてサーバーコンポーネント**で作ります。
-   `useState`や`onClick`のような**インタラクティブな機能が必要になった部品だけ**、`"use client";`を付けてクライアントコンポーネントに切り替えます。

この使い分けによって、Next.jsは「ページの表示速度」と「リッチな操作性」を両立させています。