### **Issue #6 実装ガイド: Pull Request自動作成の実装**

**完了日: ____年__月__日**

#### **目的**
このIssueでは、マイルストーン2で自動変更されたコードを元に、新しいPull Requestを自動で作成する機能を実装します。

#### **前提条件**
*   マイルストーン2（Issue #5）が完了し、Geminiの指示でファイル変更やコマンド実行ができる状態であること。

---

#### **ステップ1: Git設定とコミット・プッシュ機能の実装**

*   `scripts/gemini-reply.js` を修正し、ワークフロー内でGitコマンド（`git config`, `git add`, `git commit`, `git push`）を実行できるようにします。
*   変更されたファイルを新しいブランチにコミットし、リモートリポジトリにプッシュするロジックを追加します。ブランチ名はIssue番号やタイムスタンプなどから自動生成すると良いでしょう。

#### **ステップ2: Pull Request作成機能の実装**

*   プッシュしたブランチからmainブランチへのPRを自動で作成する機能を実装します。
*   `peter-evans/create-pull-request`のようなサードパーティのアクションを使用するか、`gh pr create`コマンドをNode.jsから実行する方法を検討します。
*   PRのタイトルと本文を、Geminiからの応答や固定テンプレートを元に自動生成します。

#### **ステップ3: ワークフロー権限の追加**

*   `gemini.yml` ファイルに、PR作成に必要な権限を追加します。
    *   `permissions: pull-requests: write`

#### **ステップ4: 動作確認**

実装が完了したら、以下の手順で動作を確認します。

1.  **変更をコミット＆プッシュ:**
    修正した `scripts/gemini-reply.js` と `gemini.yml` をリポジトリにコミットし、GitHubにプッシュします。

2.  **ワークフローをトリガー:**
    任意のIssue（またはPR）を開き、Geminiにコード変更を指示するコメントを投稿します。

3.  **GitHub ActionsのログとPull Requestを確認:**
    *   ワークフローのログを確認し、エラーがないか、PRが正常に作成されたかを確認します。
    *   リポジトリの「Pull requests」タブで、新しくPRが作成されていることを確認します。

#### **期待される結果**
*   ワークフローが正常に完了し、緑色のチェックマークが表示される。
*   Geminiの指示によるファイル変更後、自動的にPull Requestが作成される。
