'''
ğŸ¯ ç›®çš„
GitHub Issue ã« @gemini ã¨ã‚³ãƒ¡ãƒ³ãƒˆã—ãŸã‚‰ã€è‡ªå‹•ã§è¿”äº‹ãŒã¤ãä»•çµ„ã¿ã‚’è©¦ã™
ã¾ãšã¯ ãƒ€ãƒŸãƒ¼ã®è¿”äº‹ï¼ˆæœ¬ç‰©ã®Gemini APIå‘¼ã³å‡ºã—å‰ï¼‰ã§å‹•ä½œç¢ºèªã™ã‚‹ã®ãŒã‚´ãƒ¼ãƒ«

ğŸ› ï¸ å®Ÿè£…å†…å®¹
ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ : .github/workflows/gemini.yml

ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆ: issue_commentï¼ˆã‚³ãƒ¡ãƒ³ãƒˆãŒæ–°è¦æŠ•ç¨¿ã•ã‚ŒãŸã‚‰ç™ºç«ï¼‰

ãƒ»æ¡ä»¶: ã‚³ãƒ¡ãƒ³ãƒˆæœ¬æ–‡ã« @gemini ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿å®Ÿè¡Œ

ãƒ»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:
ã€€GitHub Actions ãƒœãƒƒãƒˆãŒåŒã˜ Issue ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿”ã™
ã€€å†…å®¹ã¯ã€ŒğŸ¤– Geminiã‹ã‚‰ã®è¿”äº‹ï¼ˆãƒ€ãƒŸãƒ¼ï¼‰ã€

âœ… æƒ³å®šã•ã‚Œã‚‹å‹•ã
ã€€Issueã‚„PRã«ã€Œ@gemini hello!ã€ã¨ã‚³ãƒ¡ãƒ³ãƒˆ
ã€€â†“
ã€€GitHub Actions ãŒãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã‚‹
ã€€â†“
ã€€botãŒãã®Issueã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ï¼ˆãƒ€ãƒŸãƒ¼æ–‡è¨€ï¼‰
'''

# âœ… å®Ÿè£…ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ

# ãƒªãƒã‚¸ãƒˆãƒªæ§‹æˆï¼ˆä»Šå›è¿½åŠ ã—ãŸã‚‚ã®ï¼‰
.
â””â”€ .github/
   â””â”€ workflows/
      â””â”€ gemini.yml

# -------------------------------------------
# ãƒ•ã‚¡ã‚¤ãƒ«: .github/workflows/gemini.yml
# ç›®çš„: Issue/PR ã« @gemini ã‚’å«ã‚€ã‚³ãƒ¡ãƒ³ãƒˆãŒä»˜ã„ãŸã‚‰ã€ãƒ€ãƒŸãƒ¼è¿”ä¿¡ã‚’è¿”ã™
# ãƒˆãƒªã‚¬ãƒ¼: issue_commentï¼ˆæ–°è¦ã‚³ãƒ¡ãƒ³ãƒˆï¼‰
# æ¨©é™: issues: writeï¼ˆã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ã«å¿…è¦ï¼‰
# -------------------------------------------
name: Gemini reply

on:
  issue_comment:
    types: [created]

permissions:
  issues: write

jobs:
  reply:
    if: contains(github.event.comment.body, '@gemini')
    runs-on: ubuntu-latest
    steps:
      - name: Reply with Gemini (dummy)
        uses: peter-evans/create-or-update-comment@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          repository: ${{ github.repository }}
          issue-number: ${{ github.event.issue.number }}
          body: "ğŸ¤– Geminiã‹ã‚‰ã®è¿”äº‹ï¼ˆãƒ€ãƒŸãƒ¼ï¼‰"

# -------------------------------------------
# ãƒ†ã‚¹ãƒˆæ‰‹é †ãƒ¡ãƒ¢ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã¨ã—ã¦åˆ©ç”¨ï¼‰
# 1) ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ commit & pushï¼ˆmain ãªã©ç›£è¦–ãƒ–ãƒ©ãƒ³ãƒã¸ï¼‰
# 2) ä»»æ„ã® Issue ã¾ãŸã¯ PR ã‚’é–‹ã
# 3) ã‚³ãƒ¡ãƒ³ãƒˆ:  @gemini hello!
# 4) æœŸå¾…å‹•ä½œ: åŒã˜ã‚¹ãƒ¬ãƒƒãƒ‰ã« GitHub Actions Bot ãŒ
#    ã€ŒğŸ¤– Geminiã‹ã‚‰ã®è¿”äº‹ï¼ˆãƒ€ãƒŸãƒ¼ï¼‰ã€ã¨è¿”ä¿¡ã‚’æŠ•ç¨¿
# 5) å¤±æ•—æ™‚: Actions ã‚¿ãƒ– â†’ ç›´è¿‘ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒ­ã‚°ã‚’ç¢ºèª
# -------------------------------------------
